1. AOP相关：



1. 缓存雪崩及解决方法：



1. spring常用类和IOC AOP重要的类
2. 
3. AQS原理和其实现





#### 2023.3.30 15:00 一面

1、自我介绍

2、`JVM`内存模型

3、堆怎么管理内存

4、垃圾回收算法

5、跨代引用问题怎么解决

6、每次回收都要从`GC ROOTS`开始吗

7、垃圾回收器

6、`CMS`回收过程

7、怎么判断每个阶段已经完成，可以进入下个阶段

8、`G1`和`CMS`区别

9、实习介绍

10、反问

#### 2023.4.7 15:00 二面

1、自我介绍

2、实习项目

3、`Redis`用的什么数据类型

4、`Hash`底层结构

5、`JVM`垃圾回收

6、`MySQL`索引模型

7、为什么用`B+`树

8、联合索引在`B+`树如何构造的

9、覆盖索引知道吗

10、算法题 ：二叉树的最近公共祖先



1.项目介绍一下？
2.亮点和你的主要工作？
3.java有哪些有序集合?
4.垃圾回收原理？
5.有哪些回收算法？
6.CAS和AQS的区别？
7.CAS一般会遇到什么问题？
8.读写锁是AQS实现的吗？
9.手撕反转链表

10. Arraylist 和 LinkedList区别
11. Integer和int 哪个占用更多内存
12. 对象的深拷贝和浅拷贝
13. 项目中有没有用到线程池?
14. MyBatis 中涉及到动态sql，sql的标签能说几个吗
15. MyBatis能执行一对一或者一对多关联的查询吗?有哪些实现方式?
16. SpringBoot中，读配置的时候有哪些方式?



1.数据库索引结构
2.redis为什么速度很快
3.mq了解过吗，哪里用到的，如何保证消息消费可靠
4.tcp和udp区别是什么啊
5.tcp为什么是三次握手，两次行不行，四次呢
6.tcp如何保证通信消息安全，可靠传输
7.linux常见命令都有哪些

超卖问题怎么解决的，除了加锁数据库层面怎么解决
2.数据库日志说说
3.一人下多单怎么解决
4.项目数据库表怎么设计



1.自我介绍
2.虚拟内存展开讲讲
3.为什么要有虚拟内存
4.32位系统1.5G内存虚拟内存应该怎么设
5.很多个URL怎么判断某个URL是否已经存在
从位图和哈希开始引申
6.位图+哈希的处理过程
7.hashcode的范围
8.位数组为啥查找是o1
9.单哈希下，位数组数据分布的情况
10.对不同哈希算法的理解，jdk默认的是怎么算出hashcode的，布隆又是怎么算的
11.对布隆，布谷鸟，混淆布隆底层数学原理的理解
12.慢查询出现的场景
13.慢查询一般需要考虑什么因素
14.sql执行过程，从连接池开始，到引擎层全表查询，有用索引，回表+二级的过程，重点是全表怎么查的底层+join函数底层






4.Set.contains（）方法时间复杂度
5.哈希计算的时候会产生哈希冲突吗？怎样解决？链表和红黑树的转换？红黑树怎么退化成链表？
6.ConcurrentHashMap怎样实现线程安全？
7.CAS锁；ABA问题
8.Java对锁的优化机制；无锁
9.ConcurrentHashMap的get方法是否上锁？（用volatile修饰，无锁）
10.Volatile关键字；原理
11.JVM完整的垃圾回收过程
12.CMS垃圾回收器存在的问题
13.空间分配担保原则，（GC过程，从新生态到老年代）
14.线程池工作过程
15.索引为什么用B+树不用B树？B+树和B树谁的树高？
16.最左匹配原则
17.事务四大特性，如何保证
18.MVCC
19.Redis基本数据类型；zset底层数据结构；跳表和红黑树的区别
20.分布式锁；Redisson

3.对于慢查询优化的工作
4.有没有做过mysql分析的工作
5.mysql为什么B+树
6.mysql联合索引和普通索引有什么区别
18.索引多少层
7.加索引的原则，什么时候加索引
8.redis快，是完全单线程的嘛，对单不单线程怎么理解
9.redis大key怎么删掉
10.nacos和zk有什么区别
11.线程池参数设置原则
12.线程池分配任务原理
13.线程池怎么删线程原理
14.countdownlach等底层原理是怎么样的，你怎么理解的
15.java多线程通信的方法
16.项目抄的还是自己搞的
17.算法左边第一个小于它的数字





**MySQL**



- 常用的存储引擎有哪些？区别是？——MyISAM 不了解，说不出东西，只能说 InnoDB 的特性
- B 树和 B+树的区别？——答 B+树数据只存叶子结点，非叶子节点只存指针
  - 为什么要这么设计？——减少层数，IO 次数
  - 还有别的优势吗？——说了下叶子结点双向链表，方便范围查找
  - B+树什么时候分裂？——不会，勉强说结点的指针数量达到一个阈值后分裂；追问阈值多少，不会（查了下可能是页大小 16 kb）
- 什么是悲观锁，什么是乐观锁？——麻绳专挑细处断，只能想起 Java 的定义了，MySQL 具体锁实现忘了，硬扯了共通定义
  - 举个例子（悲观锁）——愣了；什么样的 SQL 是悲观锁？——愣了，答 cud 都会加；不太满意的回答，继续问
  - 假设要同时修改一行 id=1 的数据，怎么加锁？——愣了，确实不知道，没学到位，哎（估计想问 select... for update/share 加 S 或者 X 锁，深了可能问间隙锁之类？猜测）
  - 那乐观锁呢？（概念）——按 Java 中的 CAS 概念勉强回答了
  - 举个例子（乐观锁）——愣了，不会，结束后看了下是在应用方面处理而不是 MySQL 自身有乐观锁，比如给数据库添加一列版本号字段用于乐观锁比较，能防 ABA；或者就跟原始值进行比较，简单不用动表结构，但是可能防不了 ABA 问题（或者加时间戳来避免 ABA？）
  - “那我指引你一下，比如说我们现在数据库里面……诶你会写 SQL 吗？”——扎心了，破防了，确实好久没写过了，从这开始感觉就凉了
- “那我也不问你这个了；你知道数据库可能会出现死锁的情况吗？”——实话实说只能想起 Java 和 OS 方面的死锁，MySQL 死锁确实不熟

“那数据库咱们就问到这；嗯，你说你还会 Redis？”——“嗯，了解一些（硬着头皮答应，感觉又要被拷打）”

**Redis**

- Redis 是单线程还是多线程？——都有，分情况
- 那单线程好还是多线程好？——讲了讲为什么单线程为什么多线程，没有好坏，分情况使用
- 分布式锁在 Redis 里面怎么做？——setnx
  - 怎么判断加没加上锁？——讲 setnx 机制
- Redis 有哪些数据结构？——5 基本类型
  - 介绍一下 Hash——类似 Java HashMap，举例讲了应用存对象
- 场景题，ABD 是资源，数字是城市 id，有这些数据；比如保存 A 资源这行信息时，要往 Redis 里面存缓存写数据，读取时要求查这个城市 id 下有哪些资源，应该 Redis 使用什么数据结构合适？





计网相关

(2)描述一下TCP的握手和挥手过程。
(3)挥手中进入Time-Waiting状态要等待多长时间？
(4)为什么要等这么长时间？
Java相关
(1)可以讲一下Java里面的基本数据类型吗，他分别有多少个字节？
(2)Java中类被实例化的时候，初始化的一些顺序，包括如果他有父类的时候，实例化的顺序是什么样子的？
(3)Java中有没有顺序的Map实现类？
(4)动态代理的实现方式？
(5)JDK代理模式和CGLIB代理模式区别？
(6)为什么JDK代理模式只能实现只能代理实现了接口的类或者直接代理接口？
(7)Java的异常模型？
(8)什么是序列化？
(9)有哪些序列化的方法？
(10)实现一个Serialization，他内部做了什么？
JVM相关
(1)JVM有哪些参数？JVM要启动一个Java程序，会涉及到什么参数？
**Spring相关**
(1)Spring加载流程？怎么加载到Spring框架里面的？
(2)Spring AOP怎么实现的？
(3)Spring怎么管理事务？
(4)（因为不知道Spring怎么管理事务）数据库事务了解吗？



在项目实际开发中，你有遇到哪些问题，是怎么解决的？

讲了jwt登陆验证，后面引入自定义拦截器和threadlocal

问了threadlocal的底层实现原理

如果有多个线程并发，都需要使用user_id数据，应该如何处理？

项目中有哪些难点？

讲一下Spring事务是什么，@Transactional注解如何实现

为什么使用Redis缓存，为什么快？

如何保证Redis和MySql的数据一致性？

MySQL的innodb的select方法如何加行锁？

讲一下IO多路复用有哪些种类？

提到了异步IO，同步阻塞IO和同步非阻塞IO

答错了，应该回答select、poll和epoll

讲一下同步非阻塞IO是什么，底层如何实现？

操作系统中的内存管理如何实现？

讲了段式、页式、段页式

为什么现在使用段页式？段页式能够解决内部内存碎片的问题吗？

什么是内存泄漏？内存泄露会导致什么问题？

提到了ThreadLocal中的内存泄漏问题

如果程序运行完，quit，会释放掉内存吗？

什么是CMS垃圾回收器？

有哪些新生代的垃圾回收器？

Linux命令，如何查看某一个进程？如何查看进程的线程？

ps查看进程状态，可以使用grep筛选进程

ps -T -p <pid> # 查看进程pid下的所有线程

如何使用Linux命令查看jvm线程？

ps -ef | grep java # 查看java线程ID

jsatck <pid> # 查看java线程情况

jinfo -flags <pid> # 查看java线程的JVM参数

jstat -gc <pid> # 查看Java线程的gc情况

jstat -gcutil <pid> # 查看java线程的堆内存情况

jstat -class <pid> # 查看java线程的类加载情况

讲一下HashMap？

手撕：不考虑数组扩容和红黑树，实现HashMap的put方法



**为什么HashMap的链表使用头插法会出现死循环问题？**
在HashMap中，如果使用头插法来处理哈希冲突，即新的元素插入到链表的头部，会导致死循环问题的根本原因是遍历链表时可能永远无法结束。这种情况发生在插入的新元素的哈希值与已存在链表中某个元素的哈希值相同，但是它们的equals方法比较结果不同的情况下。

当发生哈希冲突时，HashMap会将新元素插入到链表的头部，并且遍历链表时是从头部开始遍历。如果遍历的过程中，遇到了某个元素，其哈希值与新元素相同，但是equals方法比较结果不同，那么程序会继续遍历下一个节点，但由于新元素已经被插入到链表的头部，而头插法的特性是新元素的next指向链表原来的头节点，因此会永远不会到达链表的尾部，从而形成了死循环。

这种情况下，HashMap的get方法也会陷入死循环，因为它在查找时同样使用了equals方法来比较键的相等性，会遍历链表直到找到匹配的键或者到达链表尾部为止。因此，头插法可能会导致HashMap的性能严重下降，甚至导致程序挂起。



2.static关键字的使用
3.多态的用法，多态的实现原理
4.HashTable与HashMap
5.String，StringBuilder，StringBuffer的区别，使用性能
6.Linux中的IO多路复用
7.MySQL中的事务
8.事务隔离级别，哪个是默认的，特点9.MySQL中一条SQL的执行流程10.https与http的区别，加密的实现
11.键入url到页面显示的流程
12.TCP断开连接过程
13.TIME WAIT
14.算法: 区间合并





1.Java基础
(1)基本数据类型？占几个字节？
(2)包装类和基本数据类型转换？原理？
(3)为什么浮点数运算的时候会有精度丢失的风险？如何解决（BigDecimal+字符串）
(4)hashCode和equals使用？
(5)HashMap是线程安全的吗，为什么不安全？底层是什么？有版本之间的区别吗？如何实现线程安全呢？
(7)IO模型？举例？
2.JVM
(1)Minor GC（Young GC）和Full GC的区别？
(2)如何判断对象能否被回收？
(3)JVM中运行时数据区？1.7和1.8有什么区别？
(4)为什么HotSpot要把堆分为新生代和老生代？
(5)CMS和G1的区别？了解最新的那个垃圾回收器ZGC吗？
(6)创建对象的过程？
3.并发
(1)volatile关键字作用？保证原子性吗？如何保证原子性呢？线程安全吗？
(2)synchronized关键字作用？底层？
4.Redis
(1)数据类型以及特点？
(2)ZSet如何清理、ZSet底层是什么？
(3)Redis持久化？
(4)Redis如何判断过期？过期数据删除策略？
5.MySQL
(1)说说MySQL？
(2)四种隔离级别？（因为我说了默认的是可重复读）
(3)为什么索引用B+树不用B树？
(4)索引类型有哪些？你用过哪些？举例
(5)bin log和redo log的区别？
(6)如何保证恢复数据一致性？
6.项目
(1)为什么使用RabbitMQ？在这个情境中如何使用？
(2)为什么使用Redis？为什么要用布隆过滤器？



URL从输入浏览器的地址栏到按下回车页面回显，中间发生了什么过程？

（上一题回答过程中提到了DNS域名解析服务器）问，那DNS域名解析的一个过程发生了什么？

（提到了TCP建立连接）问，那TCP连接是在这个过程中只有一个吗？在多次HTTP请求过程中只有一次TCP连接吗？

linux平时用得多吗？ 回答了用的比较少就稍微接触过一下docker

然后问，介绍一下docker？ 回答了就是一个比较方便的容器，可以快速部署镜像什么的

然后又问，为什么docker这么方便？（不会啊！）

然后又问，java的springboot和tomcat其实也是容器（他们称为容器），tomcat作为容器怎么工作？ 回答了就作为一个服务器，能够把请求转发到对应的端口执行java代码（继续瞎扯）

又问，为什么请求不能直接发送到java代码？（。。。。）

不知道怎么扯到了Nginx服务器，提到了限流，问我Nginx服务器怎么实现限流的？（瞎答）

然后又说到如果高并发场景下，怎么限流，一开始就设置多少合适才能避免服务器崩溃（不能崩溃后再去处理） 回答了个根据日常活跃用户量，然后在这种场景设置一个1.5-2倍的限流量，可能在一定程度避免然后实在不行再根据sentinel的限流、熔断降级什么策略去限制（继续瞎扯）



介绍redis分布式锁
redis分布式锁是解决什么问题
redis乐观锁解决超卖，这里可以用分布式锁吗，这里锁住的是什么
说说redis+lua脚本与redisson分布式锁区别
redis+lua脚本实现用户秒杀资格预检，这里可以用redisson吗
基础：
try catch final块在catch中return后会执行final吗
hashmap底层实现
深拷贝和浅拷贝的区别
Java多线程，Sychronized和ReentrantLock区别的区别
SpringBoot自动装配原理
Springboot注解：@Component和@Service区别
@Autowired和@Resources
Mybatis的#{}和${}区别
讲讲策略模式和责任链模式，在项目中有用到吗？





2.http请求头哪些字段，发起网络调用哪些超时时间可以设置
3.cpu使用率过高如何排查
4.treemap和hashmap的区别，时间复杂度分别是多少
5.手写hashmap



 a. java基础

  ⅰ. hashMap的数据结构
  ⅱ. 讲到了扩容和缩容，追问扩容和缩容过程会发生什么
  ⅲ. 引出ConcurrentHashMap，怎么保障线程安全，底层原理？
  ⅳ. cas的底层原理
  ⅴ. 进而追问cpu怎么和主存进行交互【其实想问Unsafe】
  ⅵ. cas引出volatile关键字，底层实现【内存屏障】
  ⅶ. sync的底层实现，monitor怎么依赖操作系统来实现的
  ⅷ. 再串联CHL队列和AQS队列【真记不清了
 b. redis
  ⅰ. redis的内存结构部署和数据结构
  ⅱ. redis的io模型，为什么要用这个reactor单线程模型
  ⅲ. redis的持久化 
	比对两种方法，
	分别在什么场景使用
	你怎么选取策略
	具体怎么配置？？【真不会

  ⅳ. redis集群【真不会
 c. mysql
  ⅰ. innodb的事务隔离机制

1. 怎么实现可重复读
2. mvcc具体存的是什么
3. 事务日志是什么

  ⅱ. 你知道mysql有哪些日志吗？
  ⅲ. 知道怎么配置主从吗？【真不会





java == 和equals() 区别

HashMap线程安全问题，怎么解决

线程和进程的区别

悲观锁、乐观锁、分布式锁的区别

Yong GC和FUll GC

怎么实现一个安全的账户设计

常用的索引？联合索引的优缺点？如何为用户设计索引

介绍项目

为什么用Elasticsearch

sentinel流量控制（我说没用到）

怎么实现限流（讲了消息队列削峰，但他好像不是想听这个）

场景：用户注册，给新用户发券，怎么保证这个场景的正常（消息队列）

场景：分布式转账，怎么保证（面试官说消息队列，但我感觉有点问题）



阅读过哪些官方文档（说了Spring）

印象深刻的文档（扯了IoC）

讲讲IoC怎么实现的

单例模式怎么实现，优缺点

开始拿着笔试成绩问……说我网络部分做的不太好，数据库做的挺好，那就问数据库（人还怪好的）

数据库的组成部分（盲区）

索引失效的场景

死锁的表现？

怎么排查死锁，什么指令（不会）





1、HashMap 原理、为什么线程不安全、红黑树的结构
2、ConcurrentHashMap 怎么保证线程安全、1.8 版本做了什么优化、为什么把 ReentrantLock 改成了 CAS + synchronized
3、hashcode 和 equals，只重写一个会有什么问题
4、最左匹配原则，联合索引 (a, b, c)，查询条件：①a= 1 and c = 2 and b = 3、②a = 1 and b &gt; 2 and c = 3、还有一个忘了
5、为什么用 B+ 树作为索引
6、事务隔离级别、可重复读解决了什么问题
7、MySQL 实现的可重复读怎么解决脏读和不可重复读问题
8、JVM 内存结构
9、Redis 常用数据类型
10、Redis 实现分布式锁
11、缓存穿透、缓存雪崩
12、缓存空值和布隆过滤器的区别、优缺点
13、用过什么 mq、RocketMQ 的结构
14、怎么保证不重复消费、消费失败了怎么办

2、IoC
3、BeanFactory 和 FactoryBean 的区别
4、举例 AOP 适用场景、AOP 失效原因
5、synchronized 和 ReentrantLock 区别、AQS 原理
6、七个设计原则（面试前一小时才看过一遍，结果还是忘了一个）
7、做题，LC82 删除排序链表中的重复元素II（一开始被题目描述的“进阶：空间 O(n)，时间 O(n)”误导了，以为要用 HashMap，面试官提醒才反应过来其实一次遍历就行）
8、怎么快速上手新项目
9、怎么学习 Redis 的









hashmap相关（强烈建议大家重点复习hashmap和concurrenthashmap，源码有时间就记一下）
重载和重写（也是多次问到，基础知识了，1科班不用背也知道）
对面向对象的三大特性的理解（多次）

**封装**

封装是面向对象编程中用来将数据（属性）和代码（方法）绑定在一起的一种机制。它隐藏了类的内部细节和实现，只暴露出必要的接口给外部使用。这样做的主要目的是减少各个部分之间的依赖性，提高模块的独立性和可重用性。

- **如何实现**：在Java中，可以通过访问修饰符（如private, protected, public）来控制类成员的可见性，从而实现封装。
- **好处**：封装增加了代码的安全性，避免了外部对内部数据的直接访问。同时，它也提高了代码的可维护性，因为内部实现的改变不会影响到使用该类的代码。

**继承**

继承是一种可以让一个类继承另一个类的属性和方法的机制。这使得我们可以创建一个通用的类，然后建立更具体的子类来扩展或修改这些行为。

- **好处**：继承支持代码的重用，可以使得子类重用父类的方法和属性，不需要从零开始编写。同时，它也支持多态性。

**多态**

多态是指允许不同类的对象对同一消息作出响应的能力，即同一个接口可以被不同的对象以不同的方式实现。

- **静态多态**：通过方法重载（方法名相同，参数不同）实现。
- **动态多态**：通过方法重写（子类重写继承自父类的方法）和接口实现。在Java中，可以使用`override`关键字标示重写的方法。

- **好处**：多态性使得程序可以使用接口的通用形式编程，而由具体实现类决定执行哪个版本的方法，增加了程序的灵活性和可扩展性。







两种IO流的存在原因，当时面试官想让我答的更底层，我不知道怎么答......
你了解的设计模式，你在项目中用到了哪些设计模式（多次）
ArrayList是否线程安全（不安全），举例哪种情况不安全。
JVM内存结构（多次）

JVM垃圾回收（超高频）
四种引用，threadlocal（多次）
OOM（多次，问过出现原因，排查方法等）
类加载过程（多次）
线程与进程区别（多次）
线程池存在意义，核心参数（很重要，多次）
乐观锁悲观锁（也很重要，多次）
synchronized （多次）
AQS
MYSQL数据引擎（多次）
事务隔离级别相关（多次）
UDP和TCP（多次）
三次握手（多次）
cookie和session
redis缓存穿透，雪崩等等（多次）



1.说说 jvm 吧，内存模型都有什么

2. 堆和栈有什么区别
3. 堆和栈有什么联系
4. 说说回收算法
5. g1回收聊一下
6. java HashMap 和 TreeMap 有什么区别
7. HashMap 和 TreeMap 解决冲突的方法是什么
8. 说说redis 的hash 结构
9. hash如何解决冲突的
10. Hash 扩容的时候过程是怎样的
11. Hash分批扩容的时候有什么策略
